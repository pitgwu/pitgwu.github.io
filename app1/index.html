<!doctype html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>股價型態靜態圖解教材（教學優化版）</title>

<style>
:root{
  --bg:#0d1117; --panel:#161b22; --border:#30363d;
  --text:#e6edf3; --muted:#8b949e;
  --bull:#22c55e; --bear:#ef4444;
  --warn:#facc15; --target:#60a5fa; --stop:#fb7185;
}
*{box-sizing:border-box}
body{
  margin:0;background:var(--bg);color:var(--text);
  font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto;
}
header{
  position:sticky;top:0;z-index:10;
  background:#161b22;border-bottom:1px solid var(--border);
  padding:10px 14px;display:flex;justify-content:space-between;align-items:center;
}
header .title{font-weight:700}
header .sub{font-size:12px;color:var(--muted)}
.wrap{display:grid;grid-template-columns:300px 1fr;min-height:calc(100vh - 52px)}
aside{
  border-right:1px solid var(--border);
  padding:12px;background:#161b22;
}
main{padding:14px;max-width:1100px}

button{
  border:1px solid var(--border);
  background:#21262d;color:var(--text);
  border-radius:999px;padding:6px 12px;font-size:12px;cursor:pointer;
}
button.active{background:#238636;border-color:#238636}

input{
  width:100%;padding:8px 10px;margin-bottom:10px;
  border-radius:8px;border:1px solid var(--border);
  background:#0b1220;color:var(--text);
}

.list{display:flex;flex-direction:column;gap:8px;max-height:75vh;overflow:auto}
.item{
  border:1px solid var(--border);border-radius:10px;
  padding:8px;cursor:pointer;
}
.item.active{border-color:#238636}
.item .name{font-size:13px;font-weight:600}
.item .meta{font-size:12px;color:var(--muted)}

.card{
  background:var(--panel);border:1px solid var(--border);
  border-radius:14px;overflow:hidden;
}
.card-header{
  padding:12px;border-bottom:1px solid var(--border);
}
.card-header h2{margin:0;font-size:16px}
.tags span{
  display:inline-block;margin-right:6px;
  font-size:11px;padding:3px 8px;border-radius:999px;
  border:1px solid var(--border)
}

.viz{padding:12px;border-bottom:1px solid var(--border)}
.svgwrap{
  aspect-ratio:4/3;
  max-height:360px;
  border:1px solid var(--border);
  border-radius:12px;
  overflow:hidden;
}
svg{width:100%;height:100%}

.s-price{stroke:#e5e7eb;stroke-width:3;fill:none}
.s-sup{stroke:var(--bull);stroke-width:3.5}
.s-res{stroke:var(--bear);stroke-width:3.5}
.s-meas{stroke:var(--target);stroke-width:3;stroke-dasharray:8 6}
.s-stop{stroke:var(--stop);stroke-width:3;stroke-dasharray:6 6}
.dot{fill:var(--warn)}
.lbl{fill:#e5e7eb;font-size:12px;font-weight:600}

.body{padding:14px;display:grid;gap:14px}

.kpi{
  display:grid;grid-template-columns:1fr 1fr;gap:10px;
  background:#0b1220;border:1px solid var(--border);
  border-radius:12px;padding:10px;
}
.kpi .box{border:1px dashed var(--border);border-radius:10px;padding:8px}
.kpi .lbl{font-size:11px;color:var(--muted)}
.kpi .val{font-size:13px;margin-top:4px}

.sec h3{margin:0 0 6px;font-size:14px}
.sec ul{margin:0;padding-left:18px}
.sec li{margin:4px 0}

.advanced-only{display:block}
body[data-mode="basic"] .advanced-only{display:none}

@media(max-width:900px){
  .wrap{grid-template-columns:1fr}
  aside{border-right:none;border-bottom:1px solid var(--border)}
}
</style>
</head>

<body data-mode="basic">

<header>
  <div>
    <div class="title">股價型態靜態圖解教材（教學優化版）</div>
    <div class="sub">一種型態一張圖｜比例清楚｜買點・停損・目標價一眼看懂</div>
  </div>
  <div>
    <button id="b1" class="active" onclick="setMode('basic')">新手</button>
    <button id="b2" onclick="setMode('advanced')">進階</button>
  </div>
</header>

<div class="wrap">
  <aside>
    <input placeholder="搜尋型態…" oninput="renderList(this.value)">
    <div class="list" id="list"></div>
  </aside>

  <main>
    <div id="card"></div>
  </main>
</div>

<script>
const patterns=[
{
 name:"上升楔形（偏空反轉）",
 tags:["偏空","反轉"],
 entry:["收盤價有效跌破下緣支撐線","回測不站回可加碼"],
 sl:["價格站回楔形內或突破上緣"],
 target:["T1 = B − H × 1.0","T2 = B − H × 1.3"],
 svg:`
<svg viewBox="0 0 100 75">
 <path class="s-price" d="M10,60 L30,48 L50,40 L70,36 L90,38"/>
 <path class="s-res" d="M10,40 L90,28"/>
 <path class="s-sup" d="M10,65 L90,40"/>
 <circle cx="70" cy="40" r="2.5" class="dot"/>
 <text x="72" y="38" class="lbl">Entry / B</text>
 <path class="s-meas" d="M70,40 L92,60"/>
 <text x="78" y="58" class="lbl">1.0x</text>
 <path class="s-stop" d="M10,22 L90,22"/>
 <text x="12" y="20" class="lbl">SL</text>
</svg>`
}
];

let active=patterns[0];

function setMode(m){
 document.body.dataset.mode=m;
 document.getElementById("b1").classList.toggle("active",m==="basic");
 document.getElementById("b2").classList.toggle("active",m==="advanced");
}

function renderList(q=""){
 const list=document.getElementById("list");
 list.innerHTML="";
 patterns.filter(p=>p.name.includes(q)).forEach(p=>{
  const d=document.createElement("div");
  d.className="item"+(p===active?" active":"");
  d.innerHTML=`<div class="name">${p.name}</div>
               <div class="meta">${p.tags.join("・")}</div>`;
  d.onclick=()=>{active=p;renderCard();renderList(q)};
  list.appendChild(d);
 });
}

function renderCard(){
 const c=document.getElementById("card");
 c.innerHTML=`
 <div class="card">
  <div class="card-header">
   <h2>${active.name}</h2>
   <div class="tags">${active.tags.map(t=>`<span>${t}</span>`).join("")}</div>
  </div>

  <div class="viz">
   <div class="svgwrap">${active.svg}</div>
  </div>

  <div class="body">
   <div class="kpi">
    <div class="box">
     <div class="lbl">一句話進場</div>
     <div class="val">跌破關鍵支撐（收盤確認）進場</div>
    </div>
    <div class="box">
     <div class="lbl">一句話目標</div>
     <div class="val">目標 = B − H × 1.0（保守）</div>
    </div>
   </div>

   <div class="sec">
    <h3>進場（Entry）</h3>
    <ul>${active.entry.map(x=>`<li>${x}</li>`).join("")}</ul>
   </div>

   <div class="sec">
    <h3>停損（Stop Loss）</h3>
    <ul>${active.sl.map(x=>`<li>${x}</li>`).join("")}</ul>
   </div>

   <div class="sec advanced-only">
    <h3>目標價（Measured Move）</h3>
    <ul>${active.target.map(x=>`<li>${x}</li>`).join("")}</ul>
   </div>
  </div>
 </div>`;
}

renderList();
renderCard();
</script>

</body>
</html>
